<!DOCTYPE html>
<html>
<head>
  <title>Spotify Auth</title>
</head>
<body>
  <button id="login">Login with Spotify</button>

  <script>
    const clientId = 'YOUR_SPOTIFY_CLIENT_ID'; // replace this
    const redirectUri = 'http://localhost:5500/'; // must match Spotify app redirect
    const scopes = 'user-read-private user-read-email';

    document.getElementById('login').addEventListener('click', () => {
      const authUrl = `https://accounts.spotify.com/authorize?response_type=token&client_id=${clientId}&scope=${encodeURIComponent(scopes)}&redirect_uri=${encodeURIComponent(redirectUri)}`;
      window.location.href = authUrl;
    });

    // Handle redirect with token
    window.onload = () => {
      if (window.location.hash) {
        const hash = window.location.hash.substring(1);
        const params = new URLSearchParams(hash);
        const accessToken = params.get('access_token');
        if (accessToken) {
          document.body.innerHTML = `<h2>Logged In</h2><p>Access Token: ${accessToken}</p>`;
          // You can now use fetch() with this token to call Spotify Web API
        }
      }
    };
  </script>
</body>
</html>
